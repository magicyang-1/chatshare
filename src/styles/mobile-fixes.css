/* 移动端显示修复 */

/* 基础修复 */
* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
}

/* 移动端特定修复 */
@media (max-width: 768px) {
  /* 确保所有容器不会溢出 */
  .App,
  .main-content,
  .dashboard,
  .content-area,
  .feature-content,
  .chat-layout,
  .chat-container,
  .chat-messages,
  .chat-input,
  .chat-list-sidebar,
  .main-header,
  .feature-header {
    width: 100% !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* 修复文本换行 */
  .message-content,
  .chat-title,
  .feature-title h2,
  p, div, span {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    word-break: break-word !important;
    max-width: 100% !important;
  }

  /* 修复长文本 */
  .message-content {
    white-space: pre-wrap !important;
    word-break: break-word !important;
  }

  /* 修复输入框 */
  input, textarea, select {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* 修复图片 */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* 修复表格 */
  table {
    width: 100% !important;
    max-width: 100vw !important;
    overflow-x: auto !important;
  }

  /* 修复按钮 */
  button {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* 修复模态框 */
  .modal-dialog {
    width: 95% !important;
    max-width: 95vw !important;
    margin: 1rem auto !important;
  }

  /* 修复卡片 */
  .card, .panel {
    width: 100% !important;
    max-width: 100vw !important;
    margin: 0 !important;
  }

  /* 修复侧边栏 */
  .sidebar {
    width: 100% !important;
    max-width: 100vw !important;
  }

  /* 修复浮动按钮 */
  .floating-sidebar-toggle {
    position: fixed !important;
    z-index: 2000 !important;
  }

  /* 修复滚动条 */
  ::-webkit-scrollbar {
    width: 4px !important;
  }

  /* 修复iOS Safari的缩放问题 */
  input, textarea, select {
    font-size: 16px !important;
  }

  /* 修复触摸设备 */
  button, .clickable {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* 小屏手机额外修复 */
@media (max-width: 480px) {
  .content-area {
    padding: 0.5rem !important;
  }

  .chat-messages {
    padding: 0.5rem !important;
  }

  .main-header {
    padding: 0.5rem 0.75rem !important;
  }

  .feature-header {
    padding: 0.5rem 0.75rem !important;
  }

  .chat-input {
    padding: 0.5rem !important;
  }
}

/* 横屏模式修复 */
@media (max-width: 768px) and (orientation: landscape) {
  .main-header {
    min-height: 50px !important;
  }

  .feature-header {
    min-height: 50px !important;
  }

  .chat-input {
    min-height: 44px !important;
  }
}

/* 防止iOS Safari的缩放问题 */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  input, textarea, select {
    font-size: 16px !important;
  }
}

/* 修复触摸设备的问题 */
@media (hover: none) and (pointer: coarse) {
  button, .clickable {
    min-height: 44px !important;
    min-width: 44px !important;
  }
} 